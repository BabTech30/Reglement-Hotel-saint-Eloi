<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RÃ¨glement & Services / Rules</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #e74c3c;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --positive-color: #27ae60;
            --chat-color: #3498db;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: #333;
            margin: 0;
            padding: 20px;
            padding-bottom: 100px; /* Espace pour le chat */
            transition: all 0.3s ease;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* Langue Selector */
        .language-selector { text-align: right; margin-bottom: 20px; }
        select { padding: 8px 12px; border-radius: 5px; border: 1px solid #ccc; font-size: 16px; cursor: pointer; }

        header { text-align: center; border-bottom: 2px solid var(--primary-color); padding-bottom: 20px; margin-bottom: 30px; }
        h1 { color: var(--primary-color); margin: 0; text-transform: uppercase; font-size: 24px; }
        .subtitle { color: #666; margin-top: 10px; }

        h2 {
            color: var(--primary-color); font-size: 18px; border-left: 5px solid var(--primary-color);
            padding-left: 10px; margin-top: 30px; background-color: #eef2f5; padding: 10px;
        }

        body.rtl { direction: rtl; text-align: right; }
        body.rtl h2 { border-left: none; border-right: 5px solid var(--primary-color); padding-left: 0; padding-right: 10px; }
        body.rtl li { padding-left: 0; padding-right: 25px; }
        body.rtl li::before { left: auto; right: 5px; }
        
        ul { list-style-type: none; padding: 0; }
        li { margin-bottom: 12px; padding-left: 25px; position: relative; }
        li::before { content: "â€¢"; color: var(--primary-color); font-weight: bold; position: absolute; left: 5px; }
        .highlight { font-weight: bold; color: var(--accent-color); }

        /* Bloc Responsable */
        .contact-card {
            background: #fff3cd; border: 1px solid #ffeeba; padding: 15px; border-radius: 5px; margin-bottom: 20px; text-align: center;
        }
        .contact-card strong { font-size: 1.1em; color: #856404; }

        /* Formulaire */
        .form-section { margin-top: 40px; padding-top: 20px; border-top: 2px dashed #ccc; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea, select.form-control {
            width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;
        }
        button.submit-btn {
            background-color: var(--primary-color); color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; width: 100%; font-size: 16px;
        }
        button.submit-btn:hover { background-color: #1a252f; }

        /* ChatBot Widget */
        .chat-widget {
            position: fixed; bottom: 20px; right: 20px; width: 300px; 
            background: white; border-radius: 10px; box-shadow: 0 5px 25px rgba(0,0,0,0.2);
            overflow: hidden; z-index: 1000; display: flex; flex-direction: column;
            border: 1px solid #ddd;
        }
        .chat-header {
            background: var(--chat-color); color: white; padding: 10px; font-weight: bold; cursor: pointer;
            display: flex; justify-content: space-between; align-items: center;
        }
        .chat-body {
            padding: 15px; height: 300px; overflow-y: auto; display: none; background: #f9f9f9;
        }
        .chat-open .chat-body { display: block; }
        .message { margin-bottom: 10px; padding: 8px 12px; border-radius: 15px; max-width: 80%; font-size: 14px; }
        .bot { background: #e1f5fe; color: #333; align-self: flex-start; border-bottom-left-radius: 2px; }
        .user { background: var(--chat-color); color: white; align-self: flex-end; margin-left: auto; border-bottom-right-radius: 2px; }
        .chat-input-area {
            border-top: 1px solid #eee; padding: 10px; display: none; background: white;
        }
        .chat-open .chat-input-area { display: flex; }
        .chat-input-area input { flex: 1; padding: 5px; border: 1px solid #ddd; border-radius: 3px; }
        .chat-input-area button { margin-left: 5px; background: var(--chat-color); color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; }
        
        .volunteer-box { background-color: #e8f8f5; border: 2px solid var(--positive-color); padding: 20px; border-radius: 5px; margin-top: 30px; }
        .footer { text-align: center; margin-top: 30px; font-size: 0.9em; color: #777; }
        
        @media (max-width: 600px) { .container { padding: 20px; } .chat-widget { width: 90%; right: 5%; } }
    </style>
</head>
<body>

    <div class="container">
        <div class="language-selector">
            <select id="langSelect" onchange="changeLanguage()">
                <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                <option value="en">ğŸ‡¬ğŸ‡§ English</option>
                <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                <option value="ka">ğŸ‡¬ğŸ‡ª áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜</option>
                <option value="hy">ğŸ‡¦ğŸ‡² Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶</option>
            </select>
        </div>

        <header>
            <h1 id="t_title">RÃ¨glement IntÃ©rieur</h1>
        </header>

        <div class="contact-card">
            <p id="t_contact_intro">ğŸ“ <strong>Bastien : 06 13 70 38 10</strong></p>
            <p id="t_contact_sms" style="font-size: 0.9em;">(PrivilÃ©giez les SMS pour plus de facilitÃ©)</p>
            <p id="t_emergency" style="font-weight: bold; color: #c0392b; margin-top: 10px;">En cas d'urgence ou besoin de soutien, n'hÃ©sitez pas Ã  appeler.</p>
        </div>

        <div style="font-style: italic; font-size: 0.9em; color: #555; margin-bottom: 20px; border-left: 3px solid #ccc; padding-left: 10px;" id="t_flexibility">
            â„¹ï¸ Note : Toutes les rÃ¨gles peuvent Ãªtre adaptÃ©es Ã  chacun si besoin. Des autorisations spÃ©cifiques devront Ãªtre demandÃ©es Ã  la direction.
        </div>

        <section><h2 id="h_security">ğŸ›¡ï¸ SÃ‰CURITÃ‰ ET ACCÃˆS</h2><ul id="l_security"></ul></section>
        <section><h2 id="h_hygiene">ğŸ§¹ HYGIÃˆNE ET CHAMBRES</h2><ul id="l_hygiene"></ul></section>
        <section><h2 id="h_common">ğŸ½ï¸ CUISINE & COMMUN</h2><ul id="l_common"></ul></section>
        <section><h2 id="h_laundry">ğŸ§º LINGE</h2><ul id="l_laundry"></ul></section>
        <section><h2 id="h_community">ğŸ¤ VIE EN COMMUNAUTÃ‰</h2><ul id="l_community"></ul></section>
        <div class="volunteer-box"><h3 id="h_volunteer">ğŸ¤² BÃ‰NÃ‰VOLAT</h3><p id="p_volunteer"></p></div>
        <section><h2 id="h_departure">ğŸšª DÃ‰PART</h2><ul id="l_departure"></ul></section>

        <div style="background-color: #ffebee; border: 2px solid #e74c3c; color: #c0392b; padding: 20px; text-align: center; font-weight: bold; margin-top: 40px; border-radius: 5px; text-transform: uppercase;" id="t_warning">
            Le non-respect de ces rÃ¨gles entraÃ®nera une expulsion dÃ©finitive.
        </div>

        <div class="form-section">
            <h2 id="f_title">âœ‰ï¸ Formulaire de Contact</h2>
            <p id="f_desc">Signaler un dysfonctionnement, une demande particuliÃ¨re ou une information.</p>
            
            <form action="https://formspree.io/f/mpqqwbwp" method="POST">
                
                <div class="form-group">
                    <label id="f_name_l">Nom / Chambre</label>
                    <input type="text" name="name" required>
                </div>
                
                <div class="form-group">
                    <label id="f_type_l">Type de demande</label>
                    <select name="type" class="form-control">
                        <option value="info">Information</option>
                        <option value="probleme">Dysfonctionnement / ProblÃ¨me</option>
                        <option value="autre">Autre / Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label id="f_msg_l">Message</label>
                    <textarea name="message" rows="4" required></textarea>
                </div>

                <button type="submit" class="submit-btn" id="f_btn">Envoyer</button>
            </form>
        </div>

        <div class="footer">
            <p id="t_sign">La Direction</p>
        </div>
    </div>

    <div class="chat-widget" id="chatWidget">
        <div class="chat-header" onclick="toggleChat()">
            <span id="chatTitle">ğŸ¤– Aide / Help</span>
            <span>â–¼</span>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="message bot">Bonjour ! Veuillez sÃ©lectionner votre langue pour obtenir le code du portail.<br>Hello! Please select your language to get the gate code.</div>
            <div style="text-align: center; margin-top: 10px;">
                <button onclick="startChat('fr')" style="margin:2px;">FranÃ§ais</button>
                <button onclick="startChat('en')" style="margin:2px;">English</button>
                <button onclick="startChat('ar')" style="margin:2px;">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
                <button onclick="startChat('ka')" style="margin:2px;">áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜</button>
                <button onclick="startChat('hy')" style="margin:2px;">Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶</button>
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="userChatInput" placeholder="...">
            <button onclick="handleUserChat()">OK</button>
        </div>
    </div>

    <script>
        // --- DONNEES DE TRADUCTION ---
        const translations = {
            fr: {
                l_security: `<li>L'accÃ¨s est rÃ©servÃ© aux rÃ©sidents. Visites extÃ©rieures <strong>interdites</strong> sans autorisation.</li><li>Le code portail est confidentiel.</li><li>Fermer le portail aprÃ¨s passage.</li>`,
                l_hygiene: `<li>Chambres propres, poubelles vidÃ©es chaque semaine.</li><li><strong>NON FUMEUR</strong> en chambre/fenÃªtre.</li><li>AÃ©rer quotidiennement.</li><li>Pas de cuisine ni nourriture pÃ©rissable en chambre.</li>`,
                l_common: `<li>Nettoyer aprÃ¨s usage.</li><li>Cuisine : <strong>08h-22h</strong>. Cuisson: 11h-14h & 18h-21h.</li><li>Vaisselle faite immÃ©diatement.</li>`,
                l_laundry: `<li>Draps changÃ©s le week-end.</li><li>Machine Ã  laver : <strong>1x / semaine / pers</strong>.</li>`,
                l_community: `<li>Silence dÃ¨s <strong>23h00</strong>.</li><li>Politesse et respect du personnel.</li><li>Pas de vol.</li>`,
                l_departure: `<li>LibÃ©ration chambre <strong>11h00 Max</strong>.</li>`,
                contact_intro: "ğŸ“ Bastien : 06 13 70 38 10",
                contact_sms: "(PrivilÃ©giez les SMS pour plus de facilitÃ©)",
                emergency: "En cas d'urgence ou besoin de soutien, n'hÃ©sitez pas Ã  appeler.",
                flexibility: "â„¹ï¸ Note : Toutes les rÃ¨gles peuvent Ãªtre adaptÃ©es Ã  chacun si besoin. Des autorisations spÃ©cifiques devront Ãªtre demandÃ©es Ã  la direction.",
                volunteer_h: "ğŸ¤² BÃ‰NÃ‰VOLAT",
                volunteer_p: "Si vous Ãªtes volontaire (mÃ©nage, feuilles, poubelles, vaisselle), voir avec la direction.",
                warning: "Le non-respect de ces rÃ¨gles entraÃ®nera une expulsion dÃ©finitive.",
                f_title: "âœ‰ï¸ Formulaire de Contact",
                f_desc: "Signaler un dysfonctionnement, une demande ou une info.",
                f_name: "Nom / Chambre",
                f_type: "Type de demande",
                f_msg: "Message",
                f_btn: "Envoyer",
                sign: "La Direction",
                // Chatbot specific
                chat_intro: "Je suis Virginus. Voici le code du portail : <strong>9876A</strong> (Exemple).<br>âš ï¸ Attention : Ce code changera rÃ©guliÃ¨rement pour la sÃ©curitÃ©.",
                chat_nick_reply: "Mon petit nom c'est <strong>mym_kim34</strong> ğŸ˜‰"
            },
            en: {
                l_security: `<li>Residents only. Visitors <strong>forbidden</strong> without permission.</li><li>Gate code is confidential.</li><li>Keep gate closed.</li>`,
                l_hygiene: `<li>Keep rooms clean, empty trash weekly.</li><li><strong>NO SMOKING</strong> inside/windows.</li><li>Air out daily.</li><li>No cooking/perishable food in rooms.</li>`,
                l_common: `<li>Clean after use.</li><li>Kitchen: <strong>08:00-22:00</strong>. Cooking: 11-14 & 18-21.</li><li>Do dishes immediately.</li>`,
                l_laundry: `<li>Sheets changed on weekends.</li><li>Washer: <strong>1x / week / person</strong>.</li>`,
                l_community: `<li>Quiet time: <strong>23:00</strong>.</li><li>Respect staff and others. No stealing.</li>`,
                l_departure: `<li>Checkout <strong>11:00 AM Max</strong>.</li>`,
                contact_intro: "ğŸ“ Bastien: 06 13 70 38 10",
                contact_sms: "(Please prefer SMS)",
                emergency: "In case of emergency or need for support, do not hesitate to call.",
                flexibility: "â„¹ï¸ Note: Rules can be adapted individually. Ask management for authorization.",
                volunteer_h: "ğŸ¤² VOLUNTEERING",
                volunteer_p: "Volunteers for cleaning/help are welcome. Ask management.",
                warning: "Failure to follow rules = Permanent Expulsion.",
                f_title: "âœ‰ï¸ Contact Form",
                f_desc: "Report an issue, request info or help.",
                f_name: "Name / Room",
                f_type: "Request Type",
                f_msg: "Message",
                f_btn: "Send",
                sign: "The Management",
                chat_intro: "I am Virginus. The gate code is: <strong>9876A</strong>.<br>âš ï¸ Warning: This code changes regularly for security.",
                chat_nick_reply: "My nickname is <strong>mym_kim34</strong> ğŸ˜‰"
            },
            ar: {
                l_security: `<li>Ù„Ù„Ù…Ù‚ÙŠÙ…ÙŠÙ† ÙÙ‚Ø·. Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª <strong>Ù…Ù…Ù†ÙˆØ¹Ø©</strong>.</li><li>Ø±Ù…Ø² Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø³Ø±ÙŠ.</li><li>Ø£ØºÙ„Ù‚ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹.</li>`,
                l_hygiene: `<li>ØºØ±Ù Ù†Ø¸ÙŠÙØ©ØŒ Ø¥ÙØ±Ø§Øº Ø§Ù„Ù‚Ù…Ø§Ù…Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹.</li><li><strong>Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„ØªØ¯Ø®ÙŠÙ†</strong>.</li><li>ØªÙ‡ÙˆÙŠØ© ÙŠÙˆÙ…ÙŠØ©.</li><li>Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø·Ø¨Ø® ÙÙŠ Ø§Ù„ØºØ±ÙØ©.</li>`,
                l_common: `<li>Ù†Ø¸Ù Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….</li><li>Ø§Ù„Ù…Ø·Ø¨Ø®: <strong>08:00-22:00</strong>.</li><li>Ø§ØºØ³Ù„ Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ ÙÙˆØ±Ø§Ù‹.</li>`,
                l_laundry: `<li>ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ù„Ø§Ø¡Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ø·Ù„Ø©.</li><li>Ø§Ù„ØºØ³Ø§Ù„Ø©: <strong>Ù…Ø±Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹ Ù„Ù„Ø´Ø®Øµ</strong>.</li>`,
                l_community: `<li>Ø§Ù„Ù‡Ø¯ÙˆØ¡ Ù…Ù† <strong>23:00</strong>.</li><li>Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ¹Ø¯Ù… Ø§Ù„Ø³Ø±Ù‚Ø©.</li>`,
                l_departure: `<li>Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„ØºØ±ÙØ© <strong>11:00 ØµØ¨Ø§Ø­Ø§Ù‹</strong>.</li>`,
                contact_intro: "ğŸ“ Ø¨Ø§Ø³ØªÙŠØ§Ù†: 0613703810",
                contact_sms: "(ÙŠÙØ¶Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†ØµÙŠØ©)",
                emergency: "ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø£Ùˆ Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù„Ø¯Ø¹Ù…ØŒ Ù„Ø§ ØªØªØ±Ø¯Ø¯ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„.",
                flexibility: "â„¹ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø¹Ù†Ø¯ Ø§Ù„Ø¶Ø±ÙˆØ±Ø© Ø¨Ø¥Ø°Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.",
                volunteer_h: "ğŸ¤² Ø§Ù„ØªØ·ÙˆØ¹",
                volunteer_p: "Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„ØªÙ†Ø¸ÙŠÙØŒ Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.",
                warning: "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… ÙŠØ¹Ù†ÙŠ Ø§Ù„Ø·Ø±Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.",
                f_title: "âœ‰ï¸ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§ØªØµØ§Ù„",
                f_desc: "Ù„Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø© Ø£Ùˆ Ø·Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.",
                f_name: "Ø§Ù„Ø§Ø³Ù… / Ø§Ù„ØºØ±ÙØ©",
                f_type: "Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨",
                f_msg: "Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
                f_btn: "Ø¥Ø±Ø³Ø§Ù„",
                sign: "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",
                chat_intro: "Ø£Ù†Ø§ ÙÙŠØ±Ø¬ÙŠÙ†ÙˆØ³. Ø±Ù…Ø² Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ù‡Ùˆ: <strong>9876A</strong>.<br>âš ï¸ ØªØ­Ø°ÙŠØ±: ÙŠØªØºÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ù„Ù„Ø£Ù…Ø§Ù†.",
                chat_nick_reply: "Ù„Ù‚Ø¨ÙŠ Ù‡Ùˆ <strong>mym_kim34</strong> ğŸ˜‰"
            },
            ka: {
                l_security: `<li>áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ›áƒáƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜. áƒ•áƒ˜áƒ–áƒ˜áƒ¢áƒ”áƒ‘áƒ˜ <strong>áƒáƒ™áƒ áƒ«áƒáƒšáƒ£áƒšáƒ˜áƒ</strong>.</li><li>áƒ™áƒáƒ“áƒ˜ áƒ™áƒáƒœáƒ¤áƒ˜áƒ“áƒ”áƒœáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜áƒ.</li>`,
                l_hygiene: `<li>áƒ¡áƒ£áƒ¤áƒ—áƒ áƒáƒ—áƒáƒ®áƒ”áƒ‘áƒ˜.</li><li><strong>áƒ›áƒáƒ¬áƒ”áƒ•áƒ áƒáƒ™áƒ áƒ«áƒáƒšáƒ£áƒšáƒ˜áƒ</strong>.</li><li>áƒ’áƒáƒáƒœáƒ˜áƒáƒ•áƒ”áƒ— áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ”.</li>`,
                l_common: `<li>áƒ“áƒáƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ— áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’.</li><li>áƒ¡áƒáƒ›áƒ–áƒáƒ áƒ”áƒ£áƒšáƒ: <strong>08:00-22:00</strong>.</li>`,
                l_laundry: `<li>áƒ—áƒ”áƒ—áƒ áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ áƒ£áƒ¥áƒ›áƒ”áƒ”áƒ‘áƒ–áƒ”.</li><li>áƒ áƒ”áƒªáƒ®áƒ•áƒ: <strong>áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜ 1-áƒ®áƒ”áƒš</strong>.</li>`,
                l_community: `<li>áƒ¡áƒ˜áƒ©áƒ£áƒ›áƒ” <strong>23:00</strong>-áƒ“áƒáƒœ.</li><li>áƒáƒ”áƒ áƒ¡áƒáƒœáƒáƒšáƒ˜áƒ¡ áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ.</li>`,
                l_departure: `<li>áƒ’áƒáƒ¡áƒ•áƒšáƒ <strong>11:00-áƒ›áƒ“áƒ”</strong>.</li>`,
                contact_intro: "ğŸ“ áƒ‘áƒáƒ¡áƒ¢áƒ˜áƒ”áƒœáƒ˜: 06 13 70 38 10",
                contact_sms: "(áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ›áƒáƒ’áƒ•áƒ¬áƒ”áƒ áƒáƒ— SMS)",
                emergency: "áƒ¡áƒáƒ’áƒáƒœáƒ’áƒ”áƒ‘áƒ áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒ˜áƒ¡ áƒáƒœ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ˜áƒ¡ áƒ¡áƒáƒ­áƒ˜áƒ áƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒáƒ¨áƒ˜, áƒ“áƒáƒ áƒ”áƒ™áƒ”áƒ—.",
                flexibility: "â„¹ï¸ áƒ¨áƒ”áƒœáƒ˜áƒ¨áƒ•áƒœáƒ: áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ“áƒáƒáƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒáƒ¡áƒ—áƒáƒœ áƒ¨áƒ”áƒ—áƒáƒœáƒ®áƒ›áƒ”áƒ‘áƒ˜áƒ—.",
                volunteer_h: "ğŸ¤² áƒ›áƒáƒ®áƒáƒšáƒ˜áƒ¡áƒ”áƒáƒ‘áƒ",
                volunteer_p: "áƒ“áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ“áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ”áƒ— áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒáƒ¡.",
                warning: "áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ áƒ¦áƒ•áƒ”áƒ•áƒ = áƒ’áƒáƒ«áƒ”áƒ•áƒ”áƒ‘áƒ.",
                f_title: "âœ‰ï¸ áƒ¡áƒáƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ áƒ¤áƒáƒ áƒ›áƒ",
                f_desc: "áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ áƒáƒœ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ.",
                f_name: "áƒ¡áƒáƒ®áƒ”áƒšáƒ˜ / áƒáƒ—áƒáƒ®áƒ˜",
                f_type: "áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ˜áƒ¡ áƒ¢áƒ˜áƒáƒ˜",
                f_msg: "áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ",
                f_btn: "áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ",
                sign: "áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ",
                chat_intro: "áƒ›áƒ” áƒ•áƒáƒ  áƒ•áƒ˜áƒ áƒ’áƒ˜áƒœáƒ£áƒ¡áƒ˜. áƒ­áƒ˜áƒ¨áƒ™áƒ áƒ˜áƒ¡ áƒ™áƒáƒ“áƒ˜áƒ: <strong>9876A</strong>.<br>âš ï¸ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ: áƒ™áƒáƒ“áƒ˜ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡.",
                chat_nick_reply: "áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒ”áƒ¢áƒ¡áƒáƒ®áƒ”áƒšáƒ˜áƒ <strong>mym_kim34</strong> ğŸ˜‰"
            },
            hy: {
                l_security: `<li>Õ„Õ¸Ö‚Õ¿Ö„Õ¨ Õ´Õ«Õ¡ÕµÕ¶ Õ¢Õ¶Õ¡Õ¯Õ«Õ¹Õ¶Õ¥Ö€Õ« Õ°Õ¡Õ´Õ¡Ö€: Ô±ÕµÖÕ¥Õ¬Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶Õ¶Õ¥Ö€Õ¨ <strong>Õ¡Ö€Õ£Õ¥Õ¬Õ¾Õ¡Õ® Õ¥Õ¶</strong>:</li><li>Ô¿Õ¸Õ¤Õ¨ Õ£Õ¡Õ²Õ¿Õ¶Õ« Õ§:</li>`,
                l_hygiene: `<li>Õ„Õ¡Ö„Õ¸Ö‚Ö€ Õ½Õ¥Õ¶ÕµÕ¡Õ¯Õ¶Õ¥Ö€:</li><li><strong>Ô¾Ô½ÔµÔ¼Õ† Ô±ÕÔ³ÔµÔ¼ÕÔ±Ô¾ Ô·</strong>:</li><li>Õ•Õ¤Õ¡ÖƒÕ¸Õ­Õ¥Õ¬ Õ¡Õ´Õ¥Õ¶ Ö…Ö€:</li>`,
                l_common: `<li>Õ„Õ¡Ö„Ö€Õ¥Õ¬ Ö…Õ£Õ¿Õ¡Õ£Õ¸Ö€Õ®Õ¥Õ¬Õ¸Ö‚Ö Õ°Õ¥Õ¿Õ¸:</li><li>Ô½Õ¸Õ°Õ¡Õ¶Õ¸ÖÕ <strong>08:00-22:00</strong>:</li>`,
                l_laundry: `<li>ÕÕ¡Õ¾Õ¡Õ¶Õ¶Õ¥Ö€Õ« ÖƒÕ¸Õ­Õ¡Ö€Õ«Õ¶Õ¸Ö‚Õ´ Õ°Õ¡Õ¶Õ£Õ½Õ¿ÕµÕ¡Õ¶ Ö…Ö€Õ¥Ö€Õ«Õ¶:</li><li>Ô¼Õ¾Õ¡ÖÖ„Õ <strong>Õ·Õ¡Õ¢Õ¡Õ©Õ¨ 1 Õ¡Õ¶Õ£Õ¡Õ´</strong>:</li>`,
                l_community: `<li>Ô¼Õ¼Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶ <strong>23:00-Õ«Ö</strong>:</li><li>Õ€Õ¡Ö€Õ£Õ¥Õ¬ Õ¡Õ¶Õ±Õ¶Õ¡Õ¯Õ¡Õ¦Õ´Õ«Õ¶:</li>`,
                l_departure: `<li>Ô±Õ¦Õ¡Õ¿Õ¥Õ¬ Õ½Õ¥Õ¶ÕµÕ¡Õ¯Õ¨ <strong>11:00-Õ«Õ¶</strong>:</li>`,
                contact_intro: "ğŸ“ Ô²Õ¡Õ½Õ¿Õ«Õ¥Õ¶Õ 06 13 70 38 10",
                contact_sms: "(Ô½Õ¶Õ¤Ö€Õ¸Ö‚Õ´ Õ¥Õ¶Ö„ Õ£Ö€Õ¥Õ¬ SMS)",
                emergency: "Ô±Ö€Õ¿Õ¡Õ¯Õ¡Ö€Õ£ Õ«Ö€Õ¡Õ¾Õ«Õ³Õ¡Õ¯Õ« Õ¯Õ¡Õ´ Õ¡Õ»Õ¡Õ¯ÖÕ¸Ö‚Õ©ÕµÕ¡Õ¶ Õ¤Õ¥ÕºÖ„Õ¸Ö‚Õ´ Õ¦Õ¡Õ¶Õ£Õ¡Õ°Õ¡Ö€Õ¥Ö„:",
                flexibility: "â„¹ï¸ Õ†Õ·Õ¸Ö‚Õ´. Ô¿Õ¡Õ¶Õ¸Õ¶Õ¶Õ¥Ö€Õ¨ Õ¯Õ¡Ö€Õ¸Õ² Õ¥Õ¶ ÖƒÕ¸ÖƒÕ¸Õ­Õ¾Õ¥Õ¬ Õ²Õ¥Õ¯Õ¡Õ¾Õ¡Ö€Õ¸Ö‚Õ©ÕµÕ¡Õ¶ Õ©Õ¸Ö‚ÕµÕ¬Õ¿Õ¾Õ¸Ö‚Õ©ÕµÕ¡Õ´Õ¢:",
                volunteer_h: "ğŸ¤² Ô¿Ô±Õ„Ô±ÕÕˆÕÕˆÕ’Ô¹Õ…ÕˆÕ’Õ†",
                volunteer_p: "Õ„Õ¡Ö„Ö€Õ¸Ö‚Õ©ÕµÕ¡Õ¶ Õ°Õ¡Ö€ÖÕ¸Ö‚Õ´ Ö…Õ£Õ¶Õ¥Õ¬Õ¸Ö‚ Õ°Õ¡Õ´Õ¡Ö€ Õ¤Õ«Õ´Õ¥Ö„ Õ²Õ¥Õ¯Õ¡Õ¾Õ¡Ö€Õ¸Ö‚Õ©ÕµÕ¡Õ¶Õ¨:",
                warning: "Ô¿Õ¡Õ¶Õ¸Õ¶Õ¶Õ¥Ö€Õ« Õ­Õ¡Õ­Õ¿Õ¸Ö‚Õ´ = ÕÕ¿Õ¡Ö€Õ¸Ö‚Õ´:",
                f_title: "âœ‰ï¸ Ô¿Õ¡ÕºÕ« Õ±Ö‡",
                f_desc: "Ô½Õ¶Õ¤Ö€Õ« Õ´Õ¡Õ½Õ«Õ¶ Õ°Õ¡ÕµÕ¿Õ¶Õ¥Õ¬ Õ¯Õ¡Õ´ Õ¿Õ¥Õ²Õ¥Õ¯Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶:",
                f_name: "Ô±Õ¶Õ¸Ö‚Õ¶ / ÕÕ¥Õ¶ÕµÕ¡Õ¯",
                f_type: "Õ€Õ¡Ö€ÖÕ´Õ¡Õ¶ Õ¿Õ¥Õ½Õ¡Õ¯Õ¨",
                f_msg: "Õ€Õ¡Õ²Õ¸Ö€Õ¤Õ¡Õ£Ö€Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶",
                f_btn: "ÕˆÖ‚Õ²Õ¡Ö€Õ¯Õ¥Õ¬",
                sign: "ÕÕ¶Ö…Ö€Õ«Õ¶Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶",
                chat_intro: "ÔµÕ½ ÕÕ«Ö€Õ£Õ«Õ¶Õ¸Ö‚Õ½Õ¶ Õ¥Õ´: Ô´Õ¡Ö€ÕºÕ¡Õ½Õ« Õ¯Õ¸Õ¤Õ¶ Õ§Õ <strong>9876A</strong>:<br>âš ï¸ ÕˆÖ‚Õ·Õ¡Õ¤Ö€Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶. Ô¿Õ¸Õ¤Õ¨ Õ°Õ¡Õ³Õ¡Õ­Õ¡Õ¯Õ« ÖƒÕ¸Õ­Õ¾Õ¸Ö‚Õ´ Õ§ Õ¡Õ¶Õ¾Õ¿Õ¡Õ¶Õ£Õ¸Ö‚Õ©ÕµÕ¡Õ¶ Õ°Õ¡Õ´Õ¡Ö€:",
                chat_nick_reply: "Ô»Õ´ Õ´Õ¡Õ¯Õ¡Õ¶Õ¸Ö‚Õ¶Õ¶ Õ§ <strong>mym_kim34</strong> ğŸ˜‰"
            }
        };

        let currentLang = 'fr';

        function changeLanguage() {
            currentLang = document.getElementById('langSelect').value;
            const data = translations[currentLang];

            // RTL support
            if (currentLang === 'ar') document.body.classList.add('rtl');
            else document.body.classList.remove('rtl');

            // Text Updates
            document.getElementById('l_security').innerHTML = data.l_security;
            document.getElementById('l_hygiene').innerHTML = data.l_hygiene;
            document.getElementById('l_common').innerHTML = data.l_common;
            document.getElementById('l_laundry').innerHTML = data.l_laundry;
            document.getElementById('l_community').innerHTML = data.l_community;
            document.getElementById('l_departure').innerHTML = data.l_departure;
            
            document.getElementById('t_contact_intro').innerHTML = `<strong>${data.contact_intro}</strong>`;
            document.getElementById('t_contact_sms').textContent = data.contact_sms;
            document.getElementById('t_emergency').textContent = data.emergency;
            document.getElementById('t_flexibility').textContent = data.flexibility;
            document.getElementById('h_volunteer').textContent = data.volunteer_h;
            document.getElementById('p_volunteer').textContent = data.volunteer_p;
            document.getElementById('t_warning').textContent = data.warning;
            document.getElementById('t_sign').textContent = data.sign;

            // Form Updates
            document.getElementById('f_title').textContent = data.f_title;
            document.getElementById('f_desc').textContent = data.f_desc;
            document.getElementById('f_name_l').textContent = data.f_name;
            document.getElementById('f_type_l').textContent = data.f_type;
            document.getElementById('f_msg_l').textContent = data.f_msg;
            document.getElementById('f_btn').textContent = data.f_btn;
        }

        // --- CHATBOT LOGIC ---
        let chatState = 'start'; // start, active

        function toggleChat() {
            document.getElementById('chatWidget').classList.toggle('chat-open');
        }

        function startChat(lang) {
            currentLang = lang; // Set language for chat
            const data = translations[lang];
            const chatBody = document.getElementById('chatBody');
            
            // Add Virginus Intro
            const botMsg = document.createElement('div');
            botMsg.className = 'message bot';
            botMsg.innerHTML = data.chat_intro;
            chatBody.appendChild(botMsg);
            
            // Scroll down
            chatBody.scrollTop = chatBody.scrollHeight;
            chatState = 'active';
        }

        function handleUserChat() {
            if (chatState !== 'active') return;
            const input = document.getElementById('userChatInput');
            const txt = input.value.toLowerCase();
            const chatBody = document.getElementById('chatBody');
            
            if (txt.trim() === "") return;

            // User Message
            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.textContent = input.value;
            chatBody.appendChild(userMsg);
            input.value = "";

            // Bot Logic
            setTimeout(() => {
                const botMsg = document.createElement('div');
                botMsg.className = 'message bot';
                
                // Detection "surnom", "nickname", etc.
                if (txt.includes('surnom') || txt.includes('nickname') || txt.includes('name') || txt.includes('nom') || txt.includes('prÃ©nom')) {
                    botMsg.innerHTML = translations[currentLang].chat_nick_reply;
                } else {
                    botMsg.textContent = (currentLang === 'fr') ? "Je suis programmÃ© pour donner le code. Avez-vous une autre question ?" : "I am programmed to give the code.";
                }
                
                chatBody.appendChild(botMsg);
                chatBody.scrollTop = chatBody.scrollHeight;
            }, 500);
        }

        // Init language on load
        changeLanguage();
    </script>
</body>
</html>
